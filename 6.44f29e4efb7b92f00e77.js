(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{SDng:function(t,e,n){"use strict";n.r(e),n.d(e,"PlayersModule",function(){return N});var i=n("ofXK"),o=n("tyNb"),r=n("hctd"),a=n("3Pt+"),c=n("yl57"),s=n("J1Ni"),l=n("1S2u"),d=n("fXoL"),b=n("jSL6"),h=n("2ChS"),u=n("kmnG"),m=n("qFsG"),p=n("bTqV"),f=n("NFeN");const g=["txtTask"],v=function(t){return{highlight:t}};function y(t,e){if(1&t){const t=d.Sb();d.Rb(0,"div",7),d.Rb(1,"div"),d.vc(2),d.Qb(),d.Rb(3,"button",8),d.Yb("click",function(){d.oc(t);const n=e.$implicit;return d.cc().deleteTask(n)}),d.Rb(4,"mat-icon"),d.vc(5,"remove_circle_outline"),d.Qb(),d.Qb(),d.Qb()}if(2&t){const t=e.$implicit;d.hc("@leftToRight",void 0)("ngClass",d.jc(3,v,t.highlight)),d.Bb(2),d.wc(t.task)}}let P=(()=>{class t{constructor(t,e,n,i){this.taskProvider=t,this.hotkeyService=n,this._bottomSheetRef=i,this.edited=!1,this.form=e.group({task:["",[a.n.required]]}),this.hotkeyService.add(new c.a(["right"],t=>(this.addTask(),!1),["input","textarea"]))}ngOnDestroy(){this.hotkeyService.remove(new c.a(["right"],t=>(this.addTask(),!1),["input","textarea"])),this._bottomSheetRef.dismiss(this.edited)}ngOnInit(){setTimeout(()=>{this.txtPlayer.nativeElement.focus()},300)}addTask(){if(this.form.invalid)return;const t=this.form.value;t.id=this.getUniqueId(3),this.taskProvider.addTask(t),this.form.controls.task.setValue("")}getUniqueId(t){const e=[];for(let n=0;n<t;n++){const t=(65536*(1+Math.random())|0).toString(16).substring(1);e.push(t)}return e.join("-")}deleteTask(t){this.taskProvider.removeTask(t),this.edited=!0}}return t.\u0275fac=function(e){return new(e||t)(d.Mb(b.a),d.Mb(a.c),d.Mb(c.c),d.Mb(h.c))},t.\u0275cmp=d.Gb({type:t,selectors:[["app-task"]],viewQuery:function(t,e){if(1&t&&d.yc(g,1),2&t){let t;d.lc(t=d.Zb())&&(e.txtPlayer=t.first)}},decls:11,vars:3,consts:[[1,"flex-around","container",3,"formGroup","ngSubmit"],["appearance","outline","color","warn",1,"input"],["spellcheck","false","autocomplete","off","type","text","matInput","","formControlName","task","matInput",""],["txtTask",""],["mat-fab","","type","submit","color","primary",3,"disabled"],[1,"tasks"],["class","task flex-between line ns",3,"ngClass",4,"ngFor","ngForOf"],[1,"task","flex-between","line","ns",3,"ngClass"],["mat-icon-button","",3,"click"]],template:function(t,e){1&t&&(d.Rb(0,"form",0),d.Yb("ngSubmit",function(){return e.addTask()}),d.Rb(1,"mat-form-field",1),d.Rb(2,"mat-label"),d.vc(3,"Agregue una tarea "),d.Qb(),d.Nb(4,"input",2,3),d.Qb(),d.Rb(6,"button",4),d.Rb(7,"mat-icon"),d.vc(8,"add"),d.Qb(),d.Qb(),d.Qb(),d.Rb(9,"div",5),d.uc(10,y,6,5,"div",6),d.Qb()),2&t&&(d.hc("formGroup",e.form),d.Bb(6),d.hc("disabled",e.form.invalid),d.Bb(4),d.hc("ngForOf",e.taskProvider.tasks))},directives:[a.o,a.k,a.e,u.b,u.e,m.a,a.b,a.j,a.d,p.a,f.a,i.j,i.i],styles:[".container[_ngcontent-%COMP%]{margin:0 2rem}.container[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:-15px;margin-left:1rem}.tasks[_ngcontent-%COMP%]{height:300px;overflow-y:auto;margin:0 1rem}.tasks[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:1.5rem}.highlight[_ngcontent-%COMP%]{background-color:tomato}"],data:{animation:[s.d]}}),t})();var k=n("OgWR"),w=n("Wp6s");function x(t,e){if(1&t){const t=d.Sb();d.Rb(0,"button",2),d.Yb("click",function(){d.oc(t);const e=d.cc();return e.playerProvider.removePlayer(e.player)}),d.Rb(1,"mat-icon"),d.vc(2,"remove_circle_outline"),d.Qb(),d.Qb()}}const C=function(t){return{highlight:t}};let M=(()=>{class t{constructor(t){this.playerProvider=t,this.showDelete=!1}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(d.Mb(k.a))},t.\u0275cmp=d.Gb({type:t,selectors:[["app-player"]],inputs:{player:"player",showDelete:"showDelete"},decls:4,vars:5,consts:[[1,"line","flex-between","player","ns",3,"ngClass"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",3,"click"]],template:function(t,e){1&t&&(d.Rb(0,"div",0),d.Rb(1,"mat-label"),d.vc(2),d.Qb(),d.uc(3,x,3,0,"button",1),d.Qb()),2&t&&(d.hc("ngClass",d.jc(3,C,e.player.highlight)),d.Bb(2),d.xc(" ",e.player.name," "),d.Bb(1),d.hc("ngIf",e.showDelete))},directives:[i.i,u.e,i.k,p.a,f.a],styles:[".player[_ngcontent-%COMP%]{color:#fff;font-size:1.2rem}@media (max-width:800px){.player[_ngcontent-%COMP%]{font-size:.9rem}}"],data:{animation:[s.d]}}),t})();const O=["txtPlayer"];function _(t,e){if(1&t&&d.Nb(0,"app-player",12),2&t){const t=e.$implicit;d.hc("showDelete",!0)("player",t)("@leftToRight",void 0)}}function R(t,e){if(1&t&&(d.Rb(0,"div",15),d.Rb(1,"span"),d.vc(2),d.Qb(),d.Rb(3,"span",16),d.vc(4," Desaf\xedos"),d.Qb(),d.Qb()),2&t){const t=d.cc(2);d.hc("@zoomIn",void 0),d.Bb(2),d.xc(" ",t.taskProvider.tasks.length," ")}}function Q(t,e){if(1&t&&(d.Rb(0,"div",13),d.uc(1,R,5,2,"div",14),d.Qb()),2&t){const t=d.cc();d.hc("@rightToLeft",void 0),d.Bb(1),d.hc("ngIf",t.taskProvider.animateNumber)}}function S(t,e){if(1&t){const t=d.Sb();d.Rb(0,"button",17),d.Yb("click",function(){return d.oc(t),d.cc().resume()}),d.vc(1," CONTINUAR "),d.Qb()}2&t&&d.hc("@apearAnimation",void 0)}const T=[{path:"",component:(()=>{class t{constructor(t,e,n,i,o,r){this.playerProvider=t,this.taskProvider=e,this.router=n,this.hotkeyService=i,this.matBottomSheet=o,this.form=r.group({name:["",[a.n.required]]}),this.addHotKeys(),window.innerWidth>800&&setTimeout(()=>{this.focusAddPlayer()},300)}addHotKeys(){this.hotkeyService.add(new c.a(["esc"],t=>(this.focusAddPlayer(),!1))),this.hotkeyService.add(new c.a(["up"],t=>(this.addTask(),!1),["input"])),this.hotkeyService.add(new c.a(["right"],t=>(this.resume(),!1),["input"]))}ngOnDestroy(){this.hotkeyService.remove(new c.a(["right"],t=>(this.resume(),!1),["input"]))}ngOnInit(){this.playerProvider.verifyIfCanResume(),this.taskProvider.getTasks()}addPlayer(){var t;const e=this.form.value;e.name=null===(t=e.name)||void 0===t?void 0:t.toUpperCase(),e.position=l.a.LEFT,this.playerProvider.addPlayer(e),this.form.controls.name.setValue("")}start(){this.play()}resume(){this.play(this.playerProvider.canResume)}play(t=!1){this.playerProvider.players.length<2||!this.taskProvider.tasks.length||(this.playerProvider.resume=t,this.router.navigate(["/tomar"]))}focusAddPlayer(){this.txtPlayer.nativeElement.focus()}addTask(){this.matBottomSheet.open(P).afterDismissed().subscribe(t=>{this.addHotKeys(),t&&(this.playerProvider.canResume=!1)})}}return t.\u0275fac=function(e){return new(e||t)(d.Mb(k.a),d.Mb(b.a),d.Mb(o.a),d.Mb(c.c),d.Mb(h.a),d.Mb(a.c))},t.\u0275cmp=d.Gb({type:t,selectors:[["app-players"]],viewQuery:function(t,e){if(1&t&&d.yc(O,1),2&t){let t;d.lc(t=d.Zb())&&(e.txtPlayer=t.first)}},decls:19,vars:6,consts:[[1,"bg","flex-center"],[1,"flex-around","container",3,"formGroup","ngSubmit"],["appearance","outline","w","",1,"input"],["spellcheck","false","autocomplete","off","type","text","matInput","","formControlName","photo","name","photo","formControlName","name"],["photo","","txtPlayer",""],["mat-fab","","type","submit","color","primary",3,"disabled"],[1,"players"],[3,"showDelete","player",4,"ngFor","ngForOf"],[1,"flex-center","buttons"],["class","dear flex-center",4,"ngIf"],["color","primary","mat-raised-button","",1,"start","button",3,"disabled","click"],["color","warn","class","start button","mat-raised-button","",3,"click",4,"ngIf"],[3,"showDelete","player"],[1,"dear","flex-center"],["class","number flex-center",4,"ngIf"],[1,"number","flex-center"],[1,"dears"],["color","warn","mat-raised-button","",1,"start","button",3,"click"]],template:function(t,e){1&t&&(d.Rb(0,"div",0),d.Rb(1,"mat-card"),d.Rb(2,"form",1),d.Yb("ngSubmit",function(){return e.addPlayer()}),d.Rb(3,"mat-form-field",2),d.Rb(4,"mat-label"),d.vc(5,"JUGADOR "),d.Qb(),d.Nb(6,"input",3,4),d.Qb(),d.Rb(9,"button",5),d.Rb(10,"mat-icon"),d.vc(11," add "),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Rb(12,"div",6),d.uc(13,_,1,3,"app-player",7),d.Qb(),d.Rb(14,"div",8),d.uc(15,Q,2,2,"div",9),d.Rb(16,"button",10),d.Yb("click",function(){return e.start()}),d.vc(17," EMPEZAR "),d.Qb(),d.uc(18,S,2,1,"button",11),d.Qb(),d.Qb()),2&t&&(d.Bb(2),d.hc("formGroup",e.form),d.Bb(7),d.hc("disabled",e.form.invalid),d.Bb(4),d.hc("ngForOf",e.playerProvider.players),d.Bb(2),d.hc("ngIf",e.taskProvider.tasks.length&&e.taskProvider.animateBg),d.Bb(1),d.hc("disabled",e.playerProvider.players.length<2||!e.taskProvider.tasks.length),d.Bb(2),d.hc("ngIf",e.playerProvider.canResume))},directives:[w.a,a.o,a.k,a.e,u.b,u.e,m.a,a.b,a.j,a.d,p.a,f.a,i.j,i.k,M],styles:[".start[_ngcontent-%COMP%]{margin:2rem}mat-card[_ngcontent-%COMP%]{margin:1rem;background-color:initial}.container[_ngcontent-%COMP%]{width:500px}.container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;margin:1rem 1rem 0}.players[_ngcontent-%COMP%]{width:600px;height:400px;margin:0;overflow-y:auto;overflow-x:hidden}app-player[_ngcontent-%COMP%]{display:block}.button[_ngcontent-%COMP%]{height:50px;min-width:300px;border-radius:50px;font-size:1.3rem;margin:2rem;font-weight:700;letter-spacing:3px}.dear[_ngcontent-%COMP%]{background-color:#7b1fa2;position:fixed;top:-3px;right:0;width:225px;height:225px;border-radius:0 0 0 225px}.dear[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{flex-direction:column;position:relative;background-color:tomato;color:#fff;width:150px;height:150px;border-radius:50%;font-size:1.2rem;letter-spacing:2px;left:-38px;bottom:-38px;line-height:1.2rem}@media (max-width:800px){.bg[_ngcontent-%COMP%]{justify-content:flex-start}.container[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]{margin:0;width:100%}.container[_ngcontent-%COMP%]{padding:0}.players[_ngcontent-%COMP%]{width:100%;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:0 1rem;margin:0;overflow-y:auto;overflow-x:hidden;height:100%}app-player[_ngcontent-%COMP%]{display:block}.buttons[_ngcontent-%COMP%]{position:relative;flex-direction:column;width:100%;padding:1rem 2rem}.buttons[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{height:40px;min-width:100px;width:90%;border-radius:40px;font-size:1.2rem;margin:.5rem 0}.buttons[_ngcontent-%COMP%]   .dear[_ngcontent-%COMP%]{position:absolute;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;background-color:initial;right:4rem;top:10px;z-index:3}.buttons[_ngcontent-%COMP%]   .dear[_ngcontent-%COMP%]   .dears[_ngcontent-%COMP%]{display:none}.buttons[_ngcontent-%COMP%]   .dear[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{flex-direction:row;position:static;min-width:60%;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:25px;font-size:.8rem;letter-spacing:1px;line-height:normal;padding:0 5px;border-radius:25px;font-weight:100}.buttons[_ngcontent-%COMP%]   .dear[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 5px}}"],data:{animation:[s.a,s.b,s.d,s.i,s.g]}}),t})()}];let I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.Kb({type:t}),t.\u0275inj=d.Jb({imports:[[o.b.forChild(T),r.a],o.b]}),t})();var B=n("PCNd");let N=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.Kb({type:t}),t.\u0275inj=d.Jb({imports:[[i.c,I,r.a,B.a]]}),t})()}}]);